# Creating a Minimum Viable Product (MVP)

Goal: implement a fully playable Pong game using only the minimal technical requirements described in the subject. Later we will gradually enhance it by adding the optional modules.

# Building the Minimal Requirements

To adhere to the constraints, we should build the following:

### 1. Website Structure

- A **Dockerized Single-Page Application (SPA)** served over HTTPS (via NGINX as reverse proxy).
- Written in **TypeScript** (vanilla, or possibly with simple tooling like Vite/Parcel/Webpack).
- **No backend required**, but we can include one if written in pure PHP without frameworks.

### 2. Pong Game Functionality

- A **locally playable Pong game** in the browser using **HTML5 canvas** or **WebGL**, where:

	+ Both players share the same keyboard.
	+ Paddle speeds are the same.
	+ No cheating, no AI needed (unless you choose the AI module later).

- A **tournament system** where players enter aliases (stored temporarily in frontend memory or localStorage, if no backend is used).

### 3. Matchmaking / Tournament System

The requirement for tournaments and matchmaking **can be implemented entirely client-side**, using:

- A simple **JS queue** or **bracket system**.
- Local variables or state management to track matches and progress.
- UI elements to show matchups, current game, and next player.

### 4. Security

- **Form validation** and input sanitization using JS on the frontend.
- **No user accounts** or passwords are strictly required at this stage.
- If we choose to store data (even temporarily), **hash any passwords** and sanitize input.

---

# What is strictly required for the MVP Pong

This is what the subject mandates before modules, thus it must be present in our base implementation:

### 1. Pong Game Functionality

- A Pong game playable **on the website**.
- **Two players on the same keyboard**.
- **Identical paddle speed for all players (including AI if used)**.
- A **tournament system** that:
	+ Lets users **input aliases**.
	+ Organizes matches (matchmaking).
	+ **Displays** who plays against whom and in what order.

	This is the heart of the base project: make Pong playable for multiple players _on the same machine_ via a web interface.

### 2. Frontend Structure (SPA + TypeScript)

- A **Single-Page Application (SPA)**, navigable with **Back/Forward browser buttons**.
- Must use **TypeScript** as base language (unless overridden by the Frontend module).
- Must be compatible with the **latest Firefox**.
- **No unhandled errors or warnings**.

### 3. Docker Deployment

- The entire site must run using **Docker**.
- Launched with a **single command** (`docker-compose up` or similar).
- Must run in an **autonomous containerized environment**.

### 4. Security Requirements

- **HTTPS** must be enabled (e.g., via NGINX + self-signed certs).
- If any **password**s are stored (e.g., for tournament aliases in backend), they **must be hashed**.
- **Form validation** is required:
	+ On the **frontend** if no backend is used.
	+ On the **server** if backend is present.
- Protect against **SQL injection/XSS**, but this is only relevant if a backend/database is used.

So, if we don’t have a backend yet, security applies only to **form validation** and **HTTPS**.

### 5. User Management

- No accounts, no password auth.
- At the beginning of each tournament, players must input aliases.
- These aliases are reset between tournaments.

This requirement is minimal and can be done **entirely on the frontend**, using browser memory.

---

# Container Setup for the Minimal MVP

This could be a clean and compliant **Docker architecture**:

### 1. NGINX Container – ***HTTPS Reverse Proxy***

**Purpose:**

- Serves the SPA from the frontend container.
- Terminates HTTPS connections (SSL).
- Redirects HTTP → HTTPS.
- Optionally serves static files directly.

**Key Components:**

- Self-signed SSL certificate or autogenerated cert (e.g., with `openssl`).
- `nginx.conf` with reverse proxy rules.
- Docker volume mounting the SSL certs and frontend build.

### 2. Frontend Container - ***SPA (TypeScript)***

**Purpose:**

- Compiles the SPA written in TypeScript (e.g., using Vite, Webpack, or Parcel).
- Provides static `index.html`, JS bundles, assets, etc.

**Structure:**

- `src/` for your TS files (Pong game, tournament logic, SPA navigation)
- `Dockerfile` that:
	+ Installs Node
	+ Builds the app
	+ Copies static files to `/dist`
	+ Uses `nginx` or `http-server` for development, OR lets the main NGINX serve /dist directly

Alternative: Serve the static frontend directly via NGINX (2-in-1 approach), but separating it makes future module scaling easier.

# Summary

We only need two containers for the minimum implementation:

- `nginx`: HTTPS and static file server

- `frontend`: Compiles and serves SPA

No backend, no database, no “user” container needed yet.


Container |	Role	                       | Notes
--------- | ------------------------------ | -----------------------------------------
nginx	  | HTTPS reverse proxy + SPA host | Use volumes to serve frontend files
frontend  |	SPA written in TypeScript	   |Compiles, builds Pong and tournament logic

Optional (but not required yet):

Container	| Role	                                       | When to add
----------- | -------------------------------------------- | ---------------------------------------
php-backend	| Pure PHP logic (no frameworks)               | Only if you add modules like User Management, JWT, DB
database	| For storing persistent aliases, users, stats | Requires Database module

# Docker-compose for MVP example

```yaml

version: '3.8'

services:
  frontend:
    build: ./frontend
    volumes:
      - ./frontend/dist:/app/dist
    networks:
      - app-net

  nginx:
    build: ./nginx
    ports:
      - "443:443"
      - "80:80"
    volumes:
      - ./nginx/conf:/etc/nginx/conf.d
      - ./certs:/etc/nginx/certs
      - ./frontend/dist:/usr/share/nginx/html
    depends_on:
      - frontend
    networks:
      - app-net

networks:
  app-net:
```